# i3 config file (v4)

# Modifier and system font
set $mod Mod1
font pango:Droid Serif 8

# Window borders
new_window                   none

# Reload config
bindsym $mod+Shift+c         reload

# Restart i3 in-place
bindsym $mod+Shift+r         restart

# Exit i3
bindsym $mod+Shift+e         exec "i3-nagbar -t warning -m 'You pressed the \
exit shortcut. Do you really want to exit i3? This will end your X session.\
' -b 'Yes, exit i3' 'i3-msg exit'"

# Start Polybar
exec_always                  --no-startup-id $HOME/.config/polybar/launch.sh

# Start Dunst
exec_always                  dunst -c ~/.config/dunst/dunstrc

# Set i3lock
set $Locker                  i3lock && sleep 1

# Screen rightness
bindsym $mod+F1              exec xbacklight -10
bindsym $mod+F2              exec xbacklight +10

# Sound levels
bindsym $mod+F10             exec pactl  set-sink-mute 0 toggle
bindsym $mod+F11             exec pactl  set-sink-volume 0 -5%
bindsym $mod+F12             exec pactl  set-sink-volume 0 +5%

# Mouse+$mod moves window
floating_modifier            $mod

# Launch terminal
bindsym $mod+Return          exec urxvt

# Kill focused window
bindsym                      $mod+Shift+q kill

# Launch dmenu (a program launcher)
bindsym $mod+d               exec dmenu_run

# Shift Focus
bindsym $mod+j               focus left
bindsym $mod+k               focus down
bindsym $mod+l               focus up
bindsym $mod+semicolon       focus right

bindsym $mod+Left            focus left
bindsym $mod+Down            focus down
bindsym $mod+Up              focus up
bindsym $mod+Right           focus right

# Move focused window
bindsym $mod+Shift+j         move left
bindsym $mod+Shift+k         move down
bindsym $mod+Shift+l         move up
bindsym $mod+Shift+semicolon move right

bindsym $mod+Shift+Left      move left
bindsym $mod+Shift+Down      move down
bindsym $mod+Shift+Up        move up
bindsym $mod+Shift+Right     move right

# Fullscreen container
bindsym $mod+f               fullscreen toggle

# Thange container layout (stacked, tabbed, toggle split)
bindsym $mod+s               layout stacking
bindsym $mod+w               layout tabbed
bindsym $mod+e               layout toggle split

# Toggle tiling / floating
bindsym $mod+Shift+space     floating toggle

# Change focus between tiling / floating windows
bindsym $mod+space           focus mode_toggle

# Switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9

# Move focused window to scratchpad
bindsym $mod+Shift+minus     move scratchpad

# Show the first scratchpad window
bindsym $mod+minus           scratchpad show

# Resize window
mode "resize" {
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # Exit resize mode
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# System shutdown, reboot, lock screen
# From Arch Linux Wiki: https://wiki.archlinux.org/index.php/i3#Shutdown.2C_reboot.2C_lock_screen
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id lock.sh --lock, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id lock.sh --sleep, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl poweroff -i, mode "default"

    # Exit
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+F8  mode "$mode_system"
